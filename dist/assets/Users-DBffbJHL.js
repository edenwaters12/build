import{u as j,b as w,r as s,a as c,j as e,L as o}from"./index-CYJ9JL1Y.js";import{B as m}from"./button-lAaAvIzY.js";import{C as N}from"./card-D1RYVMHD.js";import{L as b}from"./Loader-CxsFxNhF.js";import{A as k}from"./AlertDialogDemo-Vb-nAvK6.js";function E(){const{user:i,setNotification:l}=j();w();const[p,h]=s.useState([]),[u,a]=s.useState(!1),[d,n]=s.useState(null),[g,r]=s.useState(!1);s.useEffect(()=>{x()},[]);const f=t=>{n(t),r(!0)},y=()=>{d&&c.delete(`/users/${d.id}`).then(()=>{l("User was successfully deleted"),x()}).catch(()=>{l("Error deleting user")}),r(!1),n(null)},x=()=>{a(!0),c.get("/users").then(({data:t})=>{a(!1),h(t.data)}).catch(()=>{a(!1)})};return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Users"}),e.jsx(o,{to:"/users/new",children:e.jsx(m,{className:"bg-blue-500 text-white hover:bg-blue-600",children:"Add New"})})]}),e.jsx(N,{className:"overflow-x-auto",children:u?e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(b,{})}):e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"role"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Create Date"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[" ",i.name=="dhruvish"&&"Actions"," "]})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:p.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.id}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.name}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.email}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.role}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.created_at}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:i.name=="dhruvish"&&e.jsxs(e.Fragment,{children:[e.jsx(o,{to:"/users/"+t.id,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),e.jsx(m,{className:"ml-4 bg-red-500 text-white hover:bg-red-600",onClick:()=>f(t),children:"Delete"})]})})]},t.id))})]})})}),e.jsx(k,{open:g,onClose:()=>r(!1),onConfirm:y,title:"Confirm Deletion",description:"Are you sure you want to delete this user? This action cannot be undone."})]})}export{E as default};
