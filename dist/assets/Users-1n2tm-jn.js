import{r as s,j as e}from"./react-Dzin6bBt.js";import{u as j,a as x}from"./index-DpXcwLNw.js";import{L as c}from"./react-router-dom-C6AuuY1s.js";import{B as m}from"./button-DZ378MbE.js";import{C as w}from"./card-amCQYW8t.js";import{L as N}from"./Loader-BO7wm5pM.js";import{A as k}from"./AlertDialogDemo-Cwr-nFqh.js";import{c as b}from"./react-router-ZyCTy2W0.js";import"./exenv-BTN8Bl8p.js";import"./react-dom-vuVZB_ht.js";import"./scheduler-CzFDRTuY.js";import"./axios-CCb-kr4I.js";import"./@radix-ui-BiFA3u8r.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-Bffst3Sv.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C0y-sxxv.js";import"./react-style-singleton-CNUZfl4K.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-BgPSE0Zt.js";import"./use-callback-ref-CM22xisT.js";import"./@floating-ui-B50KHoMa.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-Dnoi3Axr.js";import"./lucide-react-DVh0U7qo.js";import"./@remix-run--NbqtF80.js";import"./class-variance-authority-Bb4qSo10.js";function X(){const{user:i,setNotification:l}=j();b();const[p,h]=s.useState([]),[u,r]=s.useState(!1),[o,d]=s.useState(null),[f,a]=s.useState(!1);s.useEffect(()=>{n()},[]);const g=t=>{d(t),a(!0)},y=()=>{o&&x.delete(`/users/${o.id}`).then(()=>{l("User was successfully deleted"),n()}).catch(()=>{l("Error deleting user")}),a(!1),d(null)},n=()=>{r(!0),x.get("/users").then(({data:t})=>{r(!1),h(t.data)}).catch(()=>{r(!1)})};return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Users"}),e.jsx(c,{to:"/users/new",children:e.jsx(m,{className:"bg-blue-500 text-white hover:bg-blue-600",children:"Add New"})})]}),e.jsx(w,{className:"overflow-x-auto",children:u?e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(N,{})}):e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"role"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Create Date"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[" ",i.name=="dhruvish"&&"Actions"," "]})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:p.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.id}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.name}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.email}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.role}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.created_at}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:i.name=="dhruvish"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{to:"/users/"+t.id,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),e.jsx(m,{className:"ml-4 bg-red-500 text-white hover:bg-red-600",onClick:()=>g(t),children:"Delete"})]})})]},t.id))})]})})}),e.jsx(k,{open:f,onClose:()=>a(!1),onConfirm:y,title:"Confirm Deletion",description:"Are you sure you want to delete this user? This action cannot be undone."})]})}export{X as default};
